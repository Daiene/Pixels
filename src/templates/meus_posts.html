{% extends "base.html" %} {% block style %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='style/meus_posts.css') }}"
/>
{% endblock %} {% block content %}
<div class="container">
    <div class="row" style="min-height: 100vh;">
      <div class="col-md-9 mx-auto mt-5 mb-0" id="box_1">
        <div class="box-container">
          <form style="width: 100%;">
            <h2 style="color: #004618">Meus Posts</h2>
            <p style="color: #374151">
                Veja seus posts
            </p>

    <ul class="list-unstyled">
      {% for post in posts %}
          <a href="/post/{{ post[6]}}/{{ post[1] }}"><li style="flex-flow: row !important;">
            <li class="mb-4">
              <div class="card">
                <div class="card-header">
                  <strong>{{ post[1] }}</strong>
                </div>
                <div class="card-body d-flex justify-content-between align-items-start">
                  <div>
                    <p class="card-text">
                      <strong>Autor:</strong> {{ post[-1] }}<br>
                      <strong>Criado em:</strong> {{ post[3] }}<br>
                      <strong>Status: </strong>
                      {% if post[5] == 1 %}
                        <span class="badge badge-success" style="color: green;">Aprovado</span>
                      {% elif post[5] == 0 %}
                        <span class="badge badge-warning" style="color: yellow;">Pendente</span>
                      {% endif %}
                    </p>
                  </div>
                </div>
              </div>
            </li>
          </a>
      {% endfor %}
  </ul>

  <script>
      function atualizarStatus(postId) {
          fetch(`/atualizar_status/${postId}`, {
              method: 'GET',
          })
      }
      </script>
    </form>
</div>
      </div>
    </div>
  </div>

{% endblock %}